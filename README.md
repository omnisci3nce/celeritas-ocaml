# celeritas-ocaml

OCaml bindings for [celeritas core](https://github.com/omnisci3nce/celeritas-core), a rendering / audio-visual / game engine foundation layer written in C.

## How to use


**Example of a minimal celeritas application:**

```ocaml
open Celeritas.HighLevel

let rec main_loop () =
  match should_window_close () with
  | true -> print_endline "Shutting down..."
  | false ->
      core_input_update ();
      Core.C.frame_begin ();
      (* Do drawing here *)
      Core.C.frame_end ();
      main_loop ()

let () =
  core_bringup ();
  main_loop ();
  core_shutdown ()

```

## Architecture

There are **two** layers to the bindings:
1. raw bindings generated by ocaml-bindgen
2. a higher-level wrapper around the bindings to make writing idiomatic OCaml code easier

These bindings are currently implemented using ctypes but in the future will be generated with [ocaml-bindgen](https://github.com/omnisci3nce/ocaml-bindgen). In the future they will be updated via CI/CD when new versions of celeritas-core are released.